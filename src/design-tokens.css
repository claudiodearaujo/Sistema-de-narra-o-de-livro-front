/* ==========================================================================
   LIVRIA — Design Tokens (Tailwind v4 + PrimeNG 20)
   Versão: 1.0.0 | Data: 2026-01-01
   ========================================================================== */

/* --------------------------------------------------------------------------
   0) Fontes (recomendação)
   - Inter
   - Playfair Display
   - JetBrains Mono
   Obs: carregar via <link> no index.html ou self-host.
   -------------------------------------------------------------------------- */

:root {
  /* ------------------------------------------------------------------------
     1) Cores — Brand
     ------------------------------------------------------------------------ */

  /* Primary — Verde musgo editorial */
  --color-primary-50:  #E9F1EE;
  --color-primary-100: #D4E3DC;
  --color-primary-200: #B8CFC4;
  --color-primary-300: #9BBBAD;
  --color-primary-400: #7FA797;
  --color-primary-500: #4F6F64;
  --color-primary-600: #445F56;
  --color-primary-700: #394F48;
  --color-primary-800: #2F403A;
  --color-primary-900: #25322D;
  --color-primary-on:  #FFFFFF;

  /* Secondary — Papel (bege quente) */
  --color-secondary-50:  #FAF7F2;
  --color-secondary-100: #F2ECE2;
  --color-secondary-200: #E8DDCF;
  --color-secondary-300: #DCCBB8;
  --color-secondary-400: #CDB39E;
  --color-secondary-500: #B89A7F;
  --color-secondary-600: #9E846C;
  --color-secondary-700: #7F6A56;
  --color-secondary-800: #5F5042;
  --color-secondary-900: #3E352E;
  --color-secondary-on:  #2B2B2B;

  /* Accent — Vinho fechado */
  --color-accent-50:  #F4E9EC;
  --color-accent-100: #E8D3D9;
  --color-accent-200: #D6A8B3;
  --color-accent-300: #C37C8D;
  --color-accent-400: #9B4F60;
  --color-accent-500: #6B2E3A;
  --color-accent-600: #5C2732;
  --color-accent-700: #4B2028;
  --color-accent-800: #3B191F;
  --color-accent-900: #2A1216;
  --color-accent-on:  #FFFFFF;

  /* ------------------------------------------------------------------------
     2) Cores — Semânticas (escala gerada a partir do 500)
     ------------------------------------------------------------------------ */
  --color-success-50:  #F1F9F1;
  --color-success-100: #E2F2E3;
  --color-success-200: #C6E5C7;
  --color-success-300: #A9D9AB;
  --color-success-400: #8CCC8F;
  --color-success-500: #4CAF50;
  --color-success-600: #439A46;
  --color-success-700: #3A853D;
  --color-success-800: #317033;
  --color-success-900: #285B2A;
  --color-success-on:  #FFFFFF;

  --color-warning-50:  #FDF8EB;
  --color-warning-100: #FBF1D6;
  --color-warning-200: #F7E3AD;
  --color-warning-300: #F3D585;
  --color-warning-400: #EFC75C;
  --color-warning-500: #E6A700;
  --color-warning-600: #CA9300;
  --color-warning-700: #AF7F00;
  --color-warning-800: #936B00;
  --color-warning-900: #785700;
  --color-warning-on:  #1F1F1F;

  --color-error-50:  #FAEFEE;
  --color-error-100: #F5DFDD;
  --color-error-200: #EBC0BB;
  --color-error-300: #E1A099;
  --color-error-400: #D78077;
  --color-error-500: #C0392B;
  --color-error-600: #A93226;
  --color-error-700: #922B21;
  --color-error-800: #7B241C;
  --color-error-900: #641E16;
  --color-error-on:  #FFFFFF;

  --color-info-50:  #EFF3F8;
  --color-info-100: #DFE8F1;
  --color-info-200: #C0D1E2;
  --color-info-300: #A0B9D4;
  --color-info-400: #81A2C5;
  --color-info-500: #3A6EA5;
  --color-info-600: #336191;
  --color-info-700: #2C547D;
  --color-info-800: #25466A;
  --color-info-900: #1E3956;
  --color-info-on:  #FFFFFF;

  /* ------------------------------------------------------------------------
     3) Neutros
     ------------------------------------------------------------------------ */
  --color-neutral-50:  #FAFAFA;
  --color-neutral-100: #F4F4F5;
  --color-neutral-200: #E4E4E7;
  --color-neutral-300: #D4D4D8;
  --color-neutral-400: #A1A1AA;
  --color-neutral-500: #71717A;
  --color-neutral-600: #52525B;
  --color-neutral-700: #3F3F46;
  --color-neutral-800: #27272A;
  --color-neutral-900: #18181B;
  --color-neutral-950: #0F0F12;

  /* ------------------------------------------------------------------------
     4) Superfícies & Texto (Light)
     ------------------------------------------------------------------------ */
  --surface-ground:   var(--color-secondary-50);
  --surface-subtle:   var(--color-secondary-100);
  --surface-card:     #FFFFFF;
  --surface-elevated: #FFFFFF;
  --surface-inset:    var(--color-neutral-50);

  --surface-border:   var(--color-neutral-200);
  --surface-divider:  var(--color-neutral-200);
  --surface-overlay:  rgba(0, 0, 0, 0.45);

  --text-primary:     var(--color-neutral-900);
  --text-secondary:   var(--color-neutral-600);
  --text-muted:       var(--color-neutral-400);
  --text-inverse:     #FFFFFF;

  --link:             var(--color-primary-700);
  --link-hover:       var(--color-primary-800);

  /* ------------------------------------------------------------------------
     5) Tipografia
     ------------------------------------------------------------------------ */
  --font-heading: 'Playfair Display', serif;
  --font-body:    'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  --font-mono:    'JetBrains Mono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

  --font-weight-regular: 400;
  --font-weight-medium:  500;
  --font-weight-semibold:600;
  --font-weight-bold:    700;

  /* Escala de fontes (rem) */
  --text-xs:  0.75rem;   /* 12 */
  --text-sm:  0.875rem;  /* 14 */
  --text-md:  1rem;      /* 16 */
  --text-lg:  1.125rem;  /* 18 */
  --text-xl:  1.25rem;   /* 20 */
  --text-2xl: 1.5rem;    /* 24 */
  --text-3xl: 1.875rem;  /* 30 */
  --text-4xl: 2.25rem;   /* 36 */

  --leading-tight:  1.2;
  --leading-normal: 1.5;
  --leading-relaxed:1.7;

  /* ------------------------------------------------------------------------
     6) Espaçamento (px -> rem)
     ------------------------------------------------------------------------ */
  --space-0:  0rem;
  --space-1:  0.25rem;  /* 4 */
  --space-2:  0.5rem;   /* 8 */
  --space-3:  0.75rem;  /* 12 */
  --space-4:  1rem;     /* 16 */
  --space-5:  1.25rem;  /* 20 */
  --space-6:  1.5rem;   /* 24 */
  --space-8:  2rem;     /* 32 */
  --space-10: 2.5rem;   /* 40 */
  --space-12: 3rem;     /* 48 */
  --space-16: 4rem;     /* 64 */
  --space-20: 5rem;     /* 80 */
  --space-24: 6rem;     /* 96 */

  /* ------------------------------------------------------------------------
     7) Raios (border radius)
     ------------------------------------------------------------------------ */
  --radius-sm:   0.25rem;  /* 4 */
  --radius-md:   0.5rem;   /* 8 */
  --radius-lg:   0.75rem;  /* 12 */
  --radius-xl:   1rem;     /* 16 */
  --radius-2xl:  1.5rem;   /* 24 */
  --radius-full: 9999px;

  /* ------------------------------------------------------------------------
     8) Sombras (suaves, editoriais)
     ------------------------------------------------------------------------ */
  --shadow-xs:  0 1px 2px rgba(0,0,0,0.05);
  --shadow-sm:  0 2px 6px rgba(0,0,0,0.08);
  --shadow-md:  0 6px 18px rgba(0,0,0,0.10);
  --shadow-lg:  0 10px 30px rgba(0,0,0,0.12);

  /* ------------------------------------------------------------------------
     9) Motion & Transições
     ------------------------------------------------------------------------ */
  --ease-standard: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-emph:     cubic-bezier(0.2, 0, 0, 1);

  --duration-fast:   120ms;
  --duration-normal: 180ms;
  --duration-slow:   240ms;

  /* ------------------------------------------------------------------------
     10) Z-Index
     ------------------------------------------------------------------------ */
  --z-dropdown:  1000;
  --z-sticky:    1100;
  --z-overlay:   1200;
  --z-modal:     1300;
  --z-toast:     1400;
  --z-tooltip:   1500;

  /* ------------------------------------------------------------------------
     11) Foco, bordas e estados
     ------------------------------------------------------------------------ */
  --border-width: 1px;

  --focus-ring-color: rgba(79, 111, 100, 0.35); /* primary-500 w/ alpha */
  --focus-ring: 0 0 0 3px var(--focus-ring-color);

  --state-hover-overlay: rgba(0,0,0,0.04);
  --state-active-overlay: rgba(0,0,0,0.06);
  --state-disabled-opacity: 0.55;

  /* ------------------------------------------------------------------------
     12) Tokens de componentes (base)
     ------------------------------------------------------------------------ */
  --control-height-sm: 2.25rem; /* 36 */
  --control-height-md: 2.75rem; /* 44 */
  --control-height-lg: 3.25rem; /* 52 */

  --control-padding-x: 0.875rem; /* 14 */
  --control-padding-y: 0.625rem; /* 10 */

  --card-padding: var(--space-6);
  --card-gap:     var(--space-4);

  --nav-height:   3.5rem; /* 56 */

  /* ------------------------------------------------------------------------
     13) Gamificação
     ------------------------------------------------------------------------ */
  --color-livra: #D4AF37;
  --color-achievement-bronze: #CD7F32;
  --color-achievement-silver: #C0C0C0;
  --color-achievement-gold:   #FFD700;
  --color-level: var(--color-accent-500);
}

/* --------------------------------------------------------------------------
   Dark Mode (classe .dark no html ou body)
   -------------------------------------------------------------------------- */
.dark {
  --surface-ground:   var(--color-neutral-950);
  --surface-subtle:   #141418;
  --surface-card:     #1A1A20;
  --surface-elevated: #202028;
  --surface-inset:    #121216;

  --surface-border:   rgba(228,228,231,0.12); /* neutral-200 com alpha */
  --surface-divider:  rgba(228,228,231,0.10);
  --surface-overlay:  rgba(0, 0, 0, 0.60);

  --text-primary:     #F5F5F6;
  --text-secondary:   rgba(245,245,246,0.72);
  --text-muted:       rgba(245,245,246,0.50);
  --text-inverse:     var(--color-neutral-950);

  --link:       var(--color-primary-300);
  --link-hover: var(--color-primary-200);

  --focus-ring-color: rgba(159, 187, 173, 0.35); /* primary-300 w/ alpha */
  --state-hover-overlay: rgba(255,255,255,0.05);
  --state-active-overlay: rgba(255,255,255,0.07);
}

/* --------------------------------------------------------------------------
   Base helpers (opcional) — para padronizar sem "poluir" componentes
   -------------------------------------------------------------------------- */
:root, .dark {
  color-scheme: light;
}
.dark {
  color-scheme: dark;
}

/* ==========================================================================
   Utility Classes - LIVRIA
   ========================================================================== */

/* Focus ring */
.livria-focusable:focus-visible {
  outline: none;
  box-shadow: var(--focus-ring);
}

/* Card padrão */
.livria-card {
  background: var(--surface-card);
  border: var(--border-width) solid var(--surface-border);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-sm);
}

/* Card elevado (hover) */
.livria-card-elevated {
  background: var(--surface-elevated);
  border: var(--border-width) solid var(--surface-border);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-md);
}

/* Heading editorial */
.livria-heading {
  font-family: var(--font-heading);
  font-weight: var(--font-weight-bold);
  color: var(--text-primary);
  line-height: var(--leading-tight);
}

/* Body text */
.livria-body {
  font-family: var(--font-body);
  font-weight: var(--font-weight-regular);
  color: var(--text-primary);
  line-height: var(--leading-normal);
}

/* Muted text */
.livria-muted {
  color: var(--text-muted);
}

/* Secondary text */
.livria-secondary {
  color: var(--text-secondary);
}

/* Button base */
.livria-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  padding: var(--control-padding-y) var(--control-padding-x);
  height: var(--control-height-md);
  font-family: var(--font-body);
  font-weight: var(--font-weight-medium);
  font-size: var(--text-sm);
  border-radius: var(--radius-lg);
  transition: all var(--duration-normal) var(--ease-standard);
  cursor: pointer;
}

/* Button primary */
.livria-btn-primary {
  background: var(--color-primary-500);
  color: var(--color-primary-on);
  border: none;
}

.livria-btn-primary:hover {
  background: var(--color-primary-600);
}

.livria-btn-primary:active {
  background: var(--color-primary-700);
}

.livria-btn-primary:focus-visible {
  outline: none;
  box-shadow: var(--focus-ring);
}

.livria-btn-primary:disabled {
  opacity: var(--state-disabled-opacity);
  cursor: not-allowed;
}

/* Button secondary (outline) */
.livria-btn-secondary {
  background: transparent;
  color: var(--color-primary-600);
  border: var(--border-width) solid var(--color-primary-500);
}

.livria-btn-secondary:hover {
  background: var(--color-primary-50);
}

.livria-btn-secondary:active {
  background: var(--color-primary-100);
}

/* Button accent */
.livria-btn-accent {
  background: var(--color-accent-500);
  color: var(--color-accent-on);
  border: none;
}

.livria-btn-accent:hover {
  background: var(--color-accent-600);
}

/* Input base */
.livria-input {
  display: block;
  width: 100%;
  height: var(--control-height-md);
  padding: var(--control-padding-y) var(--control-padding-x);
  font-family: var(--font-body);
  font-size: var(--text-md);
  color: var(--text-primary);
  background: var(--surface-card);
  border: var(--border-width) solid var(--surface-border);
  border-radius: var(--radius-lg);
  transition: border-color var(--duration-fast) var(--ease-standard),
              box-shadow var(--duration-fast) var(--ease-standard);
}

.livria-input::placeholder {
  color: var(--text-muted);
}

.livria-input:focus {
  outline: none;
  border-color: var(--color-primary-500);
  box-shadow: var(--focus-ring);
}

.livria-input:disabled {
  opacity: var(--state-disabled-opacity);
  cursor: not-allowed;
}

/* Input error */
.livria-input-error {
  border-color: var(--color-error-500);
}

.livria-input-error:focus {
  border-color: var(--color-error-500);
  box-shadow: 0 0 0 3px rgba(192, 57, 43, 0.35);
}

/* Badge/Chip base */
.livria-badge {
  display: inline-flex;
  align-items: center;
  padding: var(--space-1) var(--space-2);
  font-family: var(--font-body);
  font-size: var(--text-xs);
  font-weight: var(--font-weight-medium);
  border-radius: var(--radius-full);
}

.livria-badge-primary {
  background: var(--color-primary-100);
  color: var(--color-primary-700);
}

.livria-badge-accent {
  background: var(--color-accent-100);
  color: var(--color-accent-700);
}

.livria-badge-success {
  background: var(--color-success-100);
  color: var(--color-success-700);
}

.livria-badge-warning {
  background: var(--color-warning-100);
  color: var(--color-warning-700);
}

.livria-badge-error {
  background: var(--color-error-100);
  color: var(--color-error-700);
}

/* Livra (moeda) badge */
.livria-badge-livra {
  background: linear-gradient(135deg, #D4AF37, #FFD700);
  color: #3E352E;
  font-weight: var(--font-weight-semibold);
}

/* Avatar */
.livria-avatar {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-full);
  background: var(--color-primary-100);
  color: var(--color-primary-700);
  font-family: var(--font-body);
  font-weight: var(--font-weight-semibold);
  overflow: hidden;
}

.livria-avatar-sm {
  width: 2rem;
  height: 2rem;
  font-size: var(--text-xs);
}

.livria-avatar-md {
  width: 2.5rem;
  height: 2.5rem;
  font-size: var(--text-sm);
}

.livria-avatar-lg {
  width: 3rem;
  height: 3rem;
  font-size: var(--text-md);
}

.livria-avatar-xl {
  width: 4rem;
  height: 4rem;
  font-size: var(--text-lg);
}

.livria-avatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Online indicator */
.livria-online-indicator {
  width: 0.75rem;
  height: 0.75rem;
  background: var(--color-success-500);
  border: 2px solid var(--surface-card);
  border-radius: var(--radius-full);
}

/* Divider */
.livria-divider {
  height: 1px;
  background: var(--surface-divider);
  border: none;
  margin: var(--space-4) 0;
}

/* ==========================================================================
   Animations
   ========================================================================== */

@keyframes livria-fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes livria-slide-up {
  from { 
    opacity: 0;
    transform: translateY(8px);
  }
  to { 
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes livria-scale-in {
  from { 
    opacity: 0;
    transform: scale(0.95);
  }
  to { 
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes livria-like-pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.2); }
  100% { transform: scale(1); }
}

@keyframes livria-float {
  0% { 
    opacity: 1;
    transform: translateY(0);
  }
  100% { 
    opacity: 0;
    transform: translateY(-20px);
  }
}

@keyframes livria-shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* Animation utilities */
.livria-animate-fade-in {
  animation: livria-fade-in var(--duration-normal) var(--ease-standard);
}

.livria-animate-slide-up {
  animation: livria-slide-up var(--duration-normal) var(--ease-standard);
}

.livria-animate-scale-in {
  animation: livria-scale-in var(--duration-normal) var(--ease-standard);
}

.livria-animate-like {
  animation: livria-like-pulse var(--duration-slow) var(--ease-emph);
}

/* Skeleton loading */
.livria-skeleton {
  background: linear-gradient(
    90deg,
    var(--surface-subtle) 25%,
    var(--surface-card) 50%,
    var(--surface-subtle) 75%
  );
  background-size: 200% 100%;
  animation: livria-shimmer 1.5s infinite;
  border-radius: var(--radius-md);
}
